/* Touch-Sortable.js */
/* https://github.com/docubuzz/touch-sortable.js */

(function(c){c.fn.sortable=function(){return this.each(function(){function h(b){b=b.originalEvent;var e=j?b.touches[0].pageY:b.pageY;e<=f?e=f:e>=k&&(e=k);move=e-d;a.css("top",move);move<-a.outerHeight()?a.prev().length&&(a.siblings().css("position","relative"),a.prev().is(":animated")||a.prev().animate({top:a.outerHeight()},150,function(){d-=a.outerHeight();c(this).insertAfter(a).css({top:""});a.css("top","+="+a.outerHeight())})):move>a.outerHeight()&&a.next().length&&(a.siblings().css("position",
"relative"),a.next().is(":animated")||a.next().animate({top:-a.outerHeight()},150,function(){c(this).insertBefore(a).css({top:""});d+=a.outerHeight();a.css("top","-="+a.outerHeight())}));b.preventDefault()}function g(b){a.css("top","auto").removeClass("inMotion").css({"z-index":""});c("body").unbind(".sortable",h).unbind(".sortable",g);b.preventDefault()}var j="ontouchstart"in document.documentElement;c(this).children().on(j?"touchstart":"mousedown",function(b){b=b.originalEvent;a=c(j?b.touches[0].target:
b.target);f=a.parent().position().top;k=f+a.parent().innerHeight()+a.height();a.addClass("inMotion").css({position:"relative","z-index":1});b.touches?(d=b.touches[0].pageY,c("body").on("touchmove.sortable",h).on("touchend.sortable",g).on("touchcancel.sortable",g)):(d=b.pageY,c("body").on("mousemove.sortable",h).on("mouseup.sortable",g))}).css({cursor:"move","user-select":"none"}).attr("unselectable","on").on("selectstart",!1);var a,f,k,d})}})(jQuery);