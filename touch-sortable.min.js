/* Touch-Sortable.js */
/* https://github.com/docubuzz/touch-sortable.js */

(function(c){c.fn.sortable=function(){return this.each(function(){function g(b){var d;b?(b=b.originalEvent,d=b.touches?b.touches[0].pageY:b.pageY,d<=h?d=h:d>=k&&(d=k),d-=f,a.css("top",d)):d=a.css("top").split("px")[0];d<-e?a.prev().length&&(a.siblings().css("position","relative"),a.prev().is(":animated")||a.prev().animate({top:e},150,function(){f-=e;c(this).insertAfter(a).css({top:""});a.css("top","+="+e);g()})):d>e&&a.next().length&&(a.siblings().css("position","relative"),a.next().is(":animated")||
a.next().animate({top:-e},150,function(){c(this).insertBefore(a).css({top:""});f+=e;a.css("top","-="+e);g()}));b&&b.preventDefault()}function j(){c("body").off(".sortable");c(".sortable").children().promise().done(function(){console.log("complete");a.animate({top:"-="+a.css("top")},150,function(){a.css("top","auto").removeClass("inMotion").css({"z-index":""})})})}var l="ontouchstart"in document.documentElement;c(this).children().on(l?"touchstart":"mousedown",function(b){b=b.originalEvent;a=c(l?b.touches[0].target:
b.target);h=a.parent().position().top;k=h+a.parent().innerHeight()+a.height();a.addClass("inMotion").css({position:"relative","z-index":1});b.touches?(f=b.touches[0].pageY,c("body").on("touchmove.sortable",g).on("touchend.sortable",j).on("touchcancel.sortable",j)):(f=b.pageY,c("body").on("mousemove.sortable",g).on("mouseup.sortable",j).on("mouseleave.sortable",j))}).css({cursor:"move","user-select":"none"}).attr("unselectable","on").on("selectstart",!1);var a,h,k,f,e=c(this).children(":nth-child(2)").offset().top-
c(this).children(":nth-child(1)").offset().top})}})(jQuery);
