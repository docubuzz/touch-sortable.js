/* Touch-Sortable.js */
/* https://github.com/docubuzz/touch-sortable.js */

(function(d){d.fn.sortable=function(){return this.each(function(){function h(b){var c;b?(b=b.originalEvent,c=b.touches?b.touches[0].pageY:b.pageY,c<=j?c=j:c>=k&&(c=k),c-=f,a.css("top",c)):c=a.css("top").split("px")[0];c<-e?a.prev().length&&(a.siblings().css("position","relative"),a.prev().is(":animated")||a.prev().animate({top:e},150,function(){f-=e;d(this).insertAfter(a).css({top:""});a.css("top","+="+e);h()})):c>e&&a.next().length&&(a.siblings().css("position","relative"),a.next().is(":animated")||
a.next().animate({top:-e},150,function(){d(this).insertBefore(a).css({top:""});f+=e;a.css("top","-="+e);h()}));b&&b.preventDefault()}function g(){d("body").off(".sortable");a.prev().is(":animated")||a.next().is(":animated")?setTimeout(function(){g()},50):a.animate({top:"-="+a.css("top")},150,function(){a.css("top","auto").removeClass("inMotion").css("z-index","")})}var l="ontouchstart"in document.documentElement;d(this).children().on(l?"touchstart":"mousedown",function(b){b=b.originalEvent;a=d(l?
b.touches[0].target:b.target);j=a.parent().position().top;k=j+a.parent().innerHeight()+a.height();a.addClass("inMotion").css({position:"relative","z-index":1});b.touches?(f=b.touches[0].pageY,d("body").on("touchmove.sortable",h).on("touchend.sortable",g).on("touchcancel.sortable",g)):(f=b.pageY,d("body").on("mousemove.sortable",h).on("mouseup.sortable",g).on("mouseleave.sortable",g))}).css({cursor:"move","user-select":"none"}).attr("unselectable","on").on("selectstart",!1);var a,j,k,f,e=d(this).children(":nth-child(2)").offset().top-
d(this).children(":nth-child(1)").offset().top})}})(jQuery);
